<!DOCTYPE html>
<html>
<head>
  <title>Basic</title>
  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <meta http-equiv="X-UA-Compatible" content="IE=9">
  <link href="../../doc/style/style.css" rel="stylesheet" type="text/css" />
  <script src="../../doc/script/Sintax.js" type="text/javascript"></script>
  <script src="../../doc/script/Examples.js" type="text/javascript"></script>

  <style>
  canvas {
    border: 1px solid #ccc;
  }
  </style>
</head>
<!-- Example checklist:
  Edited the head's title?
  Edited the description paragraph? (#description)
  Added your example's code to the script tag below with the id 'example-code'? (Examples.js automatically displays it on the page)
  Renamed parent folder to the examples name?
  Added it to the example list in examples/index.html?
  Submitted a pull request?

  Don't be afraid to change the layout but try to maintain some sort of continuity.
-->
<body>
  <header>
    <div class="wrapper">
      <h1><em>Aristo</em>chart</h1>
      <nav>
        <li><a href="../../index.html">Home</a></li>
        <li><a href="../../doc/index.html">Documentation</a></li>
        <li><a href="../index.html" class="highlighted">Examples</a></li>
        <li><a href="../../themes/index.html">Themes</a></li>
        <li><a href="https://github.com/dunxrion/aristochart" class="github">Github</a></li>
      </nav>
    </div>
  </header>
  <div class="content examples">
    <div class="wrapper">
      <p class="back"><a href="../index.html">&larr; Back to examples</a></p>
      <h2>Description</h2>
      <p id="description">Basic example of Aristochart.</p>
      <h2>Code</h2>
      <pre id="input-code"></pre>
      <h2>Output</h2>
      <div id="holder"></div>
      <div style="width:500px;height:20px;background-color:#ccc;margin-left:230px;"></div>
    </div>
  </div>
  <footer>
    <div class="wrapper">
      <p>An open-source project by <a href="http://adriancooney.ie">Adrian Cooney</a>.</p>
    </div>
  </footer>
</body>
<!-- You edit below this line -->
<script src="../../dist/h5c-modern.js" type="text/javascript"></script>
<script type="text/javascript" id="example-code">
var DATA = [
  {"date":"12-11","value":"-0.18%"},
  {"date":"12-14","value":"-0.17%"},
  {"date":"12-15","value":"-0.16%"},
  {"date":"12-16","value":"-0.15%"},
  {"date":"12-17","value":"-0.14%"},
  {"date":"12-18","value":"-0.14%"},
  {"date":"12-21","value":"-0.14%"},
  {"date":"12-22","value":"-0.13%"},
  {"date":"12-23","value":"-0.15%"},
  {"date":"12-24","value":"-0.15%"},
  {"date":"12-25","value":"-0.14%"},
  {"date":"12-28","value":"-0.15%"},
  {"date":"12-29","value":"-0.14%"},
  {"date":"12-30","value":"-0.14%"},
  {"date":"12-31","value":"-0.15%"},
  {"date":"01-04","value":"-0.20%"},
  {"date":"01-05","value":"-0.21%"},
  {"date":"01-06","value":"-0.19%"},
  {"date":"01-07","value":"-0.24%"},
  {"date":"01-08","value":"-0.24%"},
  {"date":"01-11","value":"-0.28%"},
  {"date":"01-12","value":"-0.28%"},
  {"date":"01-13","value":"-0.30%"},
  {"date":"01-14","value":"-0.29%"},
  {"date":"01-15","value":"-0.30%"},
  {"date":"01-18","value":"-0.29%"},
  {"date":"01-19","value":"-0.27%"},
  {"date":"01-20","value":"-0.28%"},
  {"date":"01-21","value":"-0.30%"},
  {"date":"01-22","value":"-0.29%"}];

var tick = DATA.map((a, i) => {
  if (i === 0 || i === DATA.length -1) {
    return '#' + a.date;
  } else {
    return null;
  }
});

var y1 = DATA.map(a => parseFloat(a.value.replace('%', ''), 10));
var y1Copy = y1.filter(() => true);
y1Copy.sort(function (a, b) { return a - b; });
var yMin = y1Copy[0];
var yMax = y1Copy.slice(-1)[0];
var yRange = yMax - yMin;
var axisYMin = yMin - Math.abs(yRange * 0.2);
var axisYMax = yMax + Math.abs(yRange * 0.2);

var holder = document.getElementById("holder");
var graph = new H5C(holder, {
  marginTop: 20,
  marginBottom: 50,
  marginLeft: 50,
  marginRight: 20,

  data: {
    x: tick.length,
    tick: tick,
    y: y1,
  },

  title: {
    y: '涨幅 %',
  },

  axis: {
    y: {
      min: axisYMin,
      max: axisYMax,
    },
  },

  style: {
    default: {
      label: {
        y: {
          suffix: '%',
        }
      },

      title: {
        fontSize: 12,
        font: 'sans-serif',

        y: {
          offsetX: -40,
          offsetY: -15,
        },
      },
    },
  },
}, H5C.themes.modern);
</script>
</html>
